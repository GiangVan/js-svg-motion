var LineSvgMotion=function(){function n(){this.lineAnimations=[]}return n.prototype.getLineAnimations=function(){return this.lineAnimations},n.prototype.drawLineGroupToVolume=function(n,i,t,e){void 0===e&&(e=!1);for(var o=this.generatePointGroups(n),r=0;r<o.length;r++)e&&(o[r]=o[r].reverse()),n=this.drawLineToVolume(o[r],r+1,n,i,t);return n},n.prototype.animateLineGroup=function(n,i,t,e){var o=t.time,r=void 0===o?1e3:o,a=t.step,u=void 0===a?100:a,s=t.isReversed,p=void 0!==s&&s,h=t.mode,c=void 0===h?"EXPAND":h;void 0===e&&(e=null),c=c.toUpperCase();var d=this.pushNewLineAnimation();switch(c){case"COLLAPSE":this.handleAnimationCollapseMode(d,n,i,u,r,p,e);break;case"LOADING":this.handleAnimationLoadingMode(d,n,i,u,r,p);break;case"LOADING2":this.handleAnimationLoading2Mode(d,n,i,u,r,p);break;case"LOADING3":this.handleAnimationLoading3Mode(d,n,i,u,r,p);break;case"LOADING4":this.handleAnimationLoading4Mode(d,n,i,u,r,p);break;default:this.handleAnimationNormalMode(d,n,i,u,r,p,e)}return d},n.prototype.calcMotionTrigonometricEquations=function(n){return Math.sin(Math.PI/2*Math.pow(n,6))},n.prototype.generateLineAnimationId=function(){return Symbol()},n.prototype.removeLineAnimation=function(n){var i=this.lineAnimations.indexOf(n);-1!==i&&this.lineAnimations.splice(i,1)},n.prototype.existLineAnimation=function(n){return-1!==this.lineAnimations.indexOf(n)},n.prototype.pushNewLineAnimation=function(){var n=this.generateLineAnimationId();return this.lineAnimations.push(n),n},n.prototype.handleAnimationLoadingMode=function(n,i,t,e,o,r){var a=this,u=o/e;this.recursiveAnimationLineGroup(n,i,t,e,u,0,!0,r,function(){a.recursiveAnimationLineGroup(n,i,t,e,u,100,!1,!r,function(){a.handleAnimationLoadingMode(n,i,t,e,o,r)})})},n.prototype.handleAnimationLoading2Mode=function(n,i,t,e,o,r){var a=this,u=o/e;this.recursiveAnimationLineGroup(n,i,t,e,u,0,!0,r,function(){a.recursiveAnimationLineGroup(n,i,t,e,u,100,!1,r,function(){a.handleAnimationLoading2Mode(n,i,t,e,o,r)})})},n.prototype.handleAnimationLoading3Mode=function(n,i,t,e,o,r){var a=this,u=o/e;this.recursiveAnimationLineGroup(n,i,t,e,u,100,!1,!r,function(){a.recursiveAnimationLineGroup(n,i,t,e,u,0,!0,r,function(){a.handleAnimationLoading3Mode(n,i,t,e,o,r)})})},n.prototype.handleAnimationLoading4Mode=function(n,i,t,e,o,r){var a=this,u=o/e;this.recursiveAnimationLineGroup(n,i,t,e,u,100,!1,r,function(){a.recursiveAnimationLineGroup(n,i,t,e,u,0,!0,!r,function(){a.handleAnimationLoading4Mode(n,i,t,e,o,r)})})},n.prototype.handleAnimationCollapseMode=function(n,i,t,e,o,r,a){this.recursiveAnimationLineGroup(n,i,t,e,o/e,100,!1,r,a)},n.prototype.handleAnimationNormalMode=function(n,i,t,e,o,r,a){this.recursiveAnimationLineGroup(n,i,t,e,o/e,0,!0,r,a)},n.prototype.recursiveAnimationLineGroup=function(n,i,t,e,o,r,a,u,s){var p=this;this.existLineAnimation(n)&&(this.drawLineGroupToVolume(i,t,100*this.calcMotionTrigonometricEquations(r/e),u),a&&r===e||!a&&0===r?null!=s&&s():(a?r++:r--,setTimeout(function(){return p.recursiveAnimationLineGroup(n,i,t,e,o,r,a,u,s)},o)))},n.prototype.generatePointGroups=function(n){var i=n.split("M"),t=[];if(""===i[0])for(var e=1;e<i.length;e++)for(var o=i[e].split("L"),r=0;r<o.length;r++){var a=[parseFloat(o[r].split(",")[0]),parseFloat(o[r].split(",")[1])];void 0===t[e-1]&&(t[e-1]=[]),t[e-1][t[e-1].length]=a}else alert("not found M");return t.length>0?t:null},n.prototype.countOccurrences=function(n,i){return n.split(i).length-1},n.prototype.getRangeOf=function(n,i,t){if(this.countOccurrences(n,i)>=t){for(var e=0,o=0;o<t;)e=n.indexOf(i,e)+i.length,o++;return[e,-1===n.indexOf(i,e)?n.length:n.indexOf(i,e)]}return null},n.prototype.getPointsDistance=function(n,i){return Math.sqrt(Math.pow(i[0]-n[0],2)+Math.pow(i[1]-n[1],2))},n.prototype.getLineLength=function(n){for(var i=0,t=1;t<n.length;t++)i+=this.getPointsDistance(n[t-1],n[t]);return i},n.prototype.roundPoint=function(n){return n[0]=Math.round(1e3*(n[0]+Number.EPSILON))/1e3,n[1]=Math.round(1e3*(n[1]+Number.EPSILON))/1e3,n},n.prototype.changePointGroupAtLength=function(n,i){for(var t=0,e=[n[0]],o=1;o<n.length;o++){var r=this.getPointsDistance(n[o-1],n[o]);if(t+=r,e.push(n[o]),t>=i){var a=(i+r-t)/r;e[o]=this.roundPoint([n[o-1][0]+(n[o][0]-n[o-1][0])*a,n[o-1][1]+(n[o][1]-n[o-1][1])*a]);break}}return e},n.prototype.getPointGroupStringMissing=function(n,i){var t=this.countOccurrences(n,"M"),e=0,o="";i-t>1&&(e=i-t-1);for(var r=0;r<e;r++)o+="M0,0";return o},n.prototype.drawLineToVolume=function(n,i,t,e,o){if(o>=0&&o<=100){for(var r=this.getLineLength(n)/100*o,a=this.changePointGroupAtLength(n,r),u=this.getRangeOf(t,"M",i),s="",p=0;p<a.length;p++)s+=""==s?"":"L",s+=a[p][0]+","+a[p][1];return t=null===u?""+t+this.getPointGroupStringMissing(t,i)+"M"+s:t.substring(0,u[0])+s+t.substring(u[1],t.length),e.setAttribute("d",t),t}},n}();