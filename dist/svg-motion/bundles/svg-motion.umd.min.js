!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("svg-motion",["exports"],t):t((n=n||self)["svg-motion"]={})}(this,(function(n){"use strict";var t=function(){function n(){this.lineAnimations=[]}return n.prototype.getLineAnimations=function(){return this.lineAnimations},n.prototype.drawLineGroupToVolume=function(n,t,i,e){void 0===e&&(e=!1);for(var o=this.generatePointGroups(n),r=0;r<o.length;r++)e&&(o[r]=o[r].reverse()),n=this.drawLineToVolume(o[r],r+1,n,t,i);return n},n.prototype.animateLineGroup=function(n,t,i,e){var o=i.time,r=void 0===o?1e3:o,a=i.step,u=void 0===a?100:a,s=i.isReversed,p=void 0!==s&&s,h=i.mode,c=void 0===h?"EXPAND":h;void 0===e&&(e=null),c=c.toUpperCase();var d=this.pushNewLineAnimation();switch(c){case"COLLAPSE":this.handleAnimationCollapseMode(d,n,t,u,r,p,e);break;case"LOADING":this.handleAnimationLoadingMode(d,n,t,u,r,p);break;case"LOADING2":this.handleAnimationLoading2Mode(d,n,t,u,r,p);break;case"LOADING3":this.handleAnimationLoading3Mode(d,n,t,u,r,p);break;case"LOADING4":this.handleAnimationLoading4Mode(d,n,t,u,r,p);break;default:this.handleAnimationNormalMode(d,n,t,u,r,p,e)}return d},n.prototype.calcMotionTrigonometricEquations=function(n){return Math.sin(Math.PI/2*Math.pow(n,6))},n.prototype.generateLineAnimationId=function(){return Symbol()},n.prototype.removeLineAnimation=function(n){var t=this.lineAnimations.indexOf(n);-1!==t&&this.lineAnimations.splice(t,1)},n.prototype.existLineAnimation=function(n){return-1!==this.lineAnimations.indexOf(n)},n.prototype.pushNewLineAnimation=function(){var n=this.generateLineAnimationId();return this.lineAnimations.push(n),n},n.prototype.handleAnimationLoadingMode=function(n,t,i,e,o,r){var a=this,u=o/e;this.recursiveAnimationLineGroup(n,t,i,e,u,0,!0,r,(function(){a.recursiveAnimationLineGroup(n,t,i,e,u,100,!1,!r,(function(){a.handleAnimationLoadingMode(n,t,i,e,o,r)}))}))},n.prototype.handleAnimationLoading2Mode=function(n,t,i,e,o,r){var a=this,u=o/e;this.recursiveAnimationLineGroup(n,t,i,e,u,0,!0,r,(function(){a.recursiveAnimationLineGroup(n,t,i,e,u,100,!1,r,(function(){a.handleAnimationLoading2Mode(n,t,i,e,o,r)}))}))},n.prototype.handleAnimationLoading3Mode=function(n,t,i,e,o,r){var a=this,u=o/e;this.recursiveAnimationLineGroup(n,t,i,e,u,100,!1,!r,(function(){a.recursiveAnimationLineGroup(n,t,i,e,u,0,!0,r,(function(){a.handleAnimationLoading3Mode(n,t,i,e,o,r)}))}))},n.prototype.handleAnimationLoading4Mode=function(n,t,i,e,o,r){var a=this,u=o/e;this.recursiveAnimationLineGroup(n,t,i,e,u,100,!1,r,(function(){a.recursiveAnimationLineGroup(n,t,i,e,u,0,!0,!r,(function(){a.handleAnimationLoading4Mode(n,t,i,e,o,r)}))}))},n.prototype.handleAnimationCollapseMode=function(n,t,i,e,o,r,a){this.recursiveAnimationLineGroup(n,t,i,e,o/e,100,!1,r,a)},n.prototype.handleAnimationNormalMode=function(n,t,i,e,o,r,a){this.recursiveAnimationLineGroup(n,t,i,e,o/e,0,!0,r,a)},n.prototype.recursiveAnimationLineGroup=function(n,t,i,e,o,r,a,u,s){var p=this;this.existLineAnimation(n)&&(this.drawLineGroupToVolume(t,i,100*this.calcMotionTrigonometricEquations(r/e),u),a&&r===e||!a&&0===r?null!=s&&s():(a?r++:r--,setTimeout((function(){return p.recursiveAnimationLineGroup(n,t,i,e,o,r,a,u,s)}),o)))},n.prototype.generatePointGroups=function(n){var t=n.split("M"),i=[];if(""===t[0])for(var e=1;e<t.length;e++)for(var o=t[e].split("L"),r=0;r<o.length;r++){var a=[parseFloat(o[r].split(",")[0]),parseFloat(o[r].split(",")[1])];void 0===i[e-1]&&(i[e-1]=[]),i[e-1][i[e-1].length]=a}else alert("not found M");return i.length>0?i:null},n.prototype.countOccurrences=function(n,t){return n.split(t).length-1},n.prototype.getRangeOf=function(n,t,i){if(this.countOccurrences(n,t)>=i){for(var e=0,o=0;o<i;)e=n.indexOf(t,e)+t.length,o++;return[e,-1===n.indexOf(t,e)?n.length:n.indexOf(t,e)]}return null},n.prototype.getPointsDistance=function(n,t){return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))},n.prototype.getLineLength=function(n){for(var t=0,i=1;i<n.length;i++)t+=this.getPointsDistance(n[i-1],n[i]);return t},n.prototype.roundPoint=function(n){return n[0]=Math.round(1e3*(n[0]+Number.EPSILON))/1e3,n[1]=Math.round(1e3*(n[1]+Number.EPSILON))/1e3,n},n.prototype.changePointGroupAtLength=function(n,t){for(var i=0,e=[n[0]],o=1;o<n.length;o++){var r=this.getPointsDistance(n[o-1],n[o]);if(i+=r,e.push(n[o]),i>=t){var a=(t+r-i)/r;e[o]=this.roundPoint([n[o-1][0]+(n[o][0]-n[o-1][0])*a,n[o-1][1]+(n[o][1]-n[o-1][1])*a]);break}}return e},n.prototype.getPointGroupStringMissing=function(n,t){var i=this.countOccurrences(n,"M"),e=0,o="";t-i>1&&(e=t-i-1);for(var r=0;r<e;r++)o+="M0,0";return o},n.prototype.drawLineToVolume=function(n,t,i,e,o){if(o>=0&&o<=100){for(var r=this.getLineLength(n)/100*o,a=this.changePointGroupAtLength(n,r),u=this.getRangeOf(i,"M",t),s="",p=0;p<a.length;p++)s+=""==s?"":"L",s+=a[p][0]+","+a[p][1];return i=null===u?""+i+this.getPointGroupStringMissing(i,t)+"M"+s:i.substring(0,u[0])+s+i.substring(u[1],i.length),e.setAttribute("d",i),i}},n}();n.LineSvgMotion=t,Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=svg-motion.umd.min.js.map